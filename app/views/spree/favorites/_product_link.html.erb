<div itemprop='favorite' data-hook='favorite'>
  <% if favorite?(@product) %>
    <%= link_to_with_icon '',
                          t('spree.remove_favorite'),
                          favorite_path(get_favorite(@product),
                                        favorable_id: @product.id,
                                        favorable_type: 'Spree::Product'),
                          method: :delete,
                          no_text: true,
                          remote: true,
                          id: "favorable_product_#{@product.id}",
                          class: 'favorite_product_link fa fa-heart no-text with-tip',
                          data: { favorable_id: @product.id, favorable_type: 'Spree::Product' } %>
  <% else %>
    <%= link_to_with_icon '',
                          t('spree.add_favorite'),
                          favorites_path(favorable_id: @product.id,
                                         favorable_type: 'Spree::Product'),
                          method: :post,
                          no_text: true,
                          remote: true,
                          id: "favorable_product_#{@product.id}",
                          class: 'favorite_product_link fa fa-heart-o no-text with-tip',
                          data: { favorable_id: @product.id, favorable_type: 'Spree::Product' } %>
  <% end %>
</div>
